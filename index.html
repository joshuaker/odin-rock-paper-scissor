<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // get random index, get random choice, return choice
        function getComputerChoice() {
            const choices = ["Rock", "Paper", "Scissors"];
            const randomIndex = Math.floor(Math.random() * choices.length);
            let item = choices[randomIndex];

            return item;
        }
        // 9 possible return messages; variations of You Lose! You Win! You Drew!
        // nested if statements
        // 3 possible players selections
        // each selection facing three possible computerselections
        // 
        function playRound(playerSelection, computerSelection) {
            const playerSelectionLowerCase = playerSelection.toLowerCase();
            const playerSelectionCapitalized = playerSelectionLowerCase.charAt(0).toUpperCase() + playerSelectionLowerCase.slice(1)

            if (playerSelectionCapitalized === "Rock") {
                if (computerSelection === "Rock") {
                    return `You Drew! ${computerSelection} ties with ${playerSelectionCapitalized}`;
                } else if (computerSelection === "Paper") {
                    return `You Lose! ${computerSelection} beats ${playerSelectionCapitalized}`;
                } else if (computerSelection === "Scissors") {
                    return `You Win! ${computerSelection} loses to ${playerSelectionCapitalized}`;
                }
            } else if (playerSelectionCapitalized === "Paper") {
                if (computerSelection === "Rock") {
                    return `You Win! ${computerSelection} loses to ${playerSelectionCapitalized}`;
                } else if (computerSelection === "Paper") {
                    return `You Drew! ${computerSelection} ties with ${playerSelectionCapitalized}`;
                } else if (computerSelection === "Scissors") {
                    return `You Lose! ${computerSelection} beats ${playerSelectionCapitalized}`;
                }
            } else if (playerSelectionCapitalized === "Scissors") {
                if (computerSelection === "Rock") {
                    return `You Lose! ${computerSelection} beats ${playerSelectionCapitalized}`;
                } else if (computerSelection === "Paper") {
                    return `You Win! ${computerSelection} loses to ${playerSelectionCapitalized}`;
                } else if (computerSelection === "Scissors") {
                    return `You Drew! ${computerSelection} ties with ${playerSelectionCapitalized}`;
                }
            }
        }

        // call 5 rounds of playRound
        function game(rounds) {
            const totalRounds = rounds
            let computerWins = 0;
            let playerWins = 0;

            while (rounds > 0) {
                rounds--; 
                const playerSelection = prompt("Rock, Paper, or Scissors?");
                const computerSelection = getComputerChoice();
                let roundResult = playRound(playerSelection, computerSelection);
                console.log(roundResult);

                if (roundResult.includes("Win")) {
                    playerWins++;
                } else if (roundResult.includes("Lose")) {
                    computerWins++;
                }
            }

            if (computerWins > playerWins) {
                console.log(`You lose! Out of ${totalRounds} rounds, the computer won ${computerWins} times, while you won ${playerWins} times!`)
            } else if (computerWins < playerWins) {
                console.log(`You win! Out of ${totalRounds} rounds, the computer won ${computerWins} times, while you won ${playerWins} times!`)
            } else {
                console.log(`You drew! Out of ${totalRounds} rounds, the computer won ${computerWins} times, while you won ${playerWins} times!`)
            }
        }
        
        game(5)
    </script>
</body>
</html>